<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="0;url=index.html">
    <link rel="stylesheet" href="estoque.css">
    <title>Menu inicial</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <button id="toggle-sidebar">&#9776;</button>
        <div class="logo">
            <img src="logo.png" alt="Logo">
        </div>
    </header>
    <div class="container">
        <div class="sidebar">
            <nav>
                <ul>
                    <li><a href="estoque.html"><i class="fas fa-home"></i> <span>Estoque Comercial</span></a></li>
                    <br>
                    <br>
                    <li><a href="#.html"><i class="fas fa-bell"></i> <span>Filme Stretch</span></a></li>
                    <li><a href="#.html"><i class="fas fa-bell"></i> <span>Configuração Palete</span></a></li>
                    <li><a href="fita.html"><i class="fas fa-bell"></i> <span>Fitas</span></a></li>
                    <br>
                    <br>
                    <br>
                        <li class="menu-item"><a href="avisoadm.html"><i class="fas fa-bell"></i> <span>Avisos</span></a></li>
                        <li class="menu-item"><a href="report.html"><i class="fas fa-box"></i> <span>Reportar</span></a></li>
                        <li class="menu-item"><a href="index.html"><i class="fas fa-box"></i> <span>Sair</span></a></li>
                </ul>
            </nav>
        </div>
        <main>
            <!-- Exiba o nome de usuário aqui -->
            <h1>Bem-vindo, <span id="username-element"></span></h1>
            <!-- Seu código existente para a página de estoque comum -->
        </main>
    </div>
    <script src="script.js"></script>
    <script>
        // Recupere o nome do usuário do localStorage
        const username = localStorage.getItem("loggedInUser");

        if (username) {
            // Exiba o nome de usuário na página
            const usernameElement = document.getElementById("username-element");
            if (usernameElement) {
                usernameElement.textContent = username;
            }
        }

        // Defina o tempo limite em milissegundos (5 minutos = 300.000 ms)
        const timeout = 300000; // 5 minutos em milissegundos

        let logoutTimer; // Variável para armazenar o temporizador

        // Função para redirecionar para a página de login
        function redirectToLogin() {
            window.location.href = "index.html"; // Redirecionar para a página de login
        }

        // Função para reiniciar o temporizador
        function resetLogoutTimer() {
            clearTimeout(logoutTimer); // Limpar o temporizador anterior
            logoutTimer = setTimeout(redirectToLogin, timeout); // Configurar um novo temporizador
        }

        // Adicionar manipuladores de eventos para redefinir o temporizador em interações do usuário
        document.addEventListener("mousemove", resetLogoutTimer); // Mousemove
        document.addEventListener("keypress", resetLogoutTimer); // Tecla pressionada
        document.addEventListener("click", resetLogoutTimer); // Clique

        // Inicialize o temporizador quando a página carregar
        resetLogoutTimer();
    </script>
   <h4>Versão 1.1.0</h4>
</body>
</html>